{"version":3,"sources":["Persons.js","PersonForm.js","Filter.js","Notification.js","services/persons.js","index.js"],"names":["Persons","props","persons","map","person","name","number","value","id","onClick","handleDelete","PersonForm","handlers","handleSubmit","handleNameChange","handleNumberChange","values","newName","newNumber","onSubmit","onChange","type","Filter","search","handleSearch","Notification","message","className","BASE_URL","axios","get","then","res","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setSearch","setMessage","useEffect","personService","personsToShow","filter","toLowerCase","includes","handleSetMessage","setTimeout","checkDuplicateName","indexOf","e","target","preventDefault","index","length","catch","err","parseInt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.95387778.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = (props) => {\n  return (\n    <div>\n      {props.persons.map(person => \n        <div key = {person.id}>\n          {person.name} {person.number} <button value={person.id} onClick={props.handleDelete}>delete</button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Persons;","import React from 'react'\n\nconst PersonForm = (props) => {\n  const {handleSubmit, handleNameChange, handleNumberChange} = props.handlers;\n  const {newName, newNumber} = props.values;\n  return(\n    <form onSubmit={handleSubmit}>\n    <div>\n      name: <input value={newName} onChange={handleNameChange}/>\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={handleNumberChange}/>\n    </div>\n    <div>\n      <button type=\"submit\" >add</button>\n    </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react';\n\nconst Filter = (props) => {\n  return (\n    <div>\n      Filter shown with a <input value={props.search} onChange={props.handleSearch}/>\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={message.type}>\n      {message.message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from \"axios\"\nconst BASE_URL = \"/api/persons\"\n\n\nconst getAll = () => {\n  return axios.get(BASE_URL)\n      .then(res => res.data)\n}\n\nconst create = (newObject) => {\n  return axios.post(BASE_URL, newObject)\n    .then(res => res.data)\n}\n\nconst deletePerson = (id) => {\n  return axios.delete(`${BASE_URL}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${BASE_URL}/${id}`, newObject)\n  .then(res => res.data)\n}\n\nexport default {getAll, create, deletePerson, update}","import React, { useState, useEffect} from 'react'\nimport ReactDOM from 'react-dom';\nimport Persons from \"./Persons\"\nimport PersonForm from \"./PersonForm\"\nimport Filter from \"./Filter\"\nimport Notification from \"./Notification\"\nimport personService from \"./services/persons\"\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName ] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [search, setSearch] = useState(\"\")\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n    .then(res => {setPersons(res)})\n  }, [])\n\n  const personsToShow = persons.filter( person => person.name.toLowerCase().includes(search.toLowerCase()))\n\n  const handleSetMessage = (message, type) =>Â {\n    setMessage(\n      {message: message, type: type}\n    )\n    setTimeout(() => {\n      setMessage(null)\n    }, 3000)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const index = checkDuplicateName();\n\n    if ( index >= 0) {\n      const newObject = {name: newName, number: newNumber, id: persons[index].id}\n      personService.update(persons[index].id, newObject)\n      .then((res) => {\n        handleSetMessage(`${res.name} updated`, \"success\");\n        setPersons(persons.map(person => person.id !== persons[index].id ? person : newObject))\n    })\n\n    } else {\n      const newObject = {name: newName, number: newNumber, id: persons.length + 1};\n      personService.create(newObject)\n      .then(res => {\n        handleSetMessage(`${res.name} created`, \"success\");\n        setPersons([...persons, res]);\n      })\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  }\n\n  const handleDelete = (e) => {\n    personService.deletePerson(e.target.value)\n    .catch(err => {\n      handleSetMessage(\"error\", \"error\")\n    })\n    setPersons(persons.filter(person => person.id !== parseInt(e.target.value)))\n  }\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleSearch = (e) => {\n    setSearch(e.target.value)\n  }\n\n  const checkDuplicateName = () => {\n    return (persons.map(person => person.name).indexOf(newName))\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n        <Notification message={message}/>\n        <Filter search={search} handleSearch={handleSearch}/>\n      <h2>Add a new</h2>\n        <PersonForm handlers = {{handleSubmit, handleNameChange, handleNumberChange}} values={{newName, newNumber}}/>\n      <h2>Numbers</h2>\n        <Persons persons = {personsToShow} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}